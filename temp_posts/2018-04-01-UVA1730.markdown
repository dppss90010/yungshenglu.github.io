---
layout     : post
title      : "UVA-1730 - Sum of MSLCM"
subtitle   : "UVa Online Judge"
date       : 2018-03-31 18:00:00
author     : "Yung-Sheng Lu"
tags       : OnlineJudge UVa Math
comments   : true
signature  : true
slides     : 
present    :
github     : https://github.com/yungshenglu/OnlineJudgeUVA/tree/master/UVA-1730
link       : https://uva.onlinejudge.org/index.php?option=com_onlinejudge&Itemid=8&page=show_problem&category=&problem=4926&mosmsg=Submission+received+with+ID+21077134
---

> * UVa Online Judge 解題結果請於 Submit 後，參閱 [uHunt](https://uhunt.onlinejudge.org/)。
> * 如果你有任何建議與指教，歡迎於下方留言一起討論喔！
> * 本題選為「20180327 大學程式能力檢定 CPE」題目。

## 題意概要

請參考下圖的二維座標系統 (笛卡兒座標系)，垂直為 X 軸，水平為 Y 軸，每個圓點有一個座標。在座標系統上可以隨著箭頭所表示之路徑，從座標上的一圓點出發移動到另一圓點，所經過之路徑的距離定義為：經過的座標點數加 1，例如從 (0, 3) 到 (3, 0) 必須先經過 (1, 2) 與 (2, 1) 兩點，所以距離等於 2 + 1 = 3。本題會給定兩個座標點，請你計算從出發點到目的點的距離，你可以假設不能用箭頭的反方向回頭。

* **分析：**本題為數論題型，假設所求的 N = 10，則將 1 - 10 每個數的因數列出來後，統計抹個因數出現的次數會發現，由小至大排序，1 總共出現 10 次、2 總共出現 5 次、3 總共出現 3 次、...等。仔細觀察會發現，每個因數出現的次數其實就是 N / i (i = 1, 2, ..., 10)，故直觀來說相當容易。但是，本題最關鍵的地方在於若按照上述的想法去運算，時間複雜度為 O(N) 會超過題目的時間限制 (TLE)，因此本題在「求總和的地方不行逐一相加」。仔細觀察上述統計完的出現次數，會發現出現次數會「隨著因數變大而遞減」，而且連續因數之間的出線次數「可能會連續都一樣」，因此可以在求總和的過程中試著將「連續相同出現次數的因數一起相加」，此方法為「二分搜尋法」的概念，將上界與下界找出來，由梯形公式求總和。

---
## Input

Input file contains at most 200 lines. Each line contains a positive integer which denotes the value of N (1 < N < 20,000,001). Input is terminated by a line containing a single zero, which should not be processed.

---
## Output

For each positive number N in the input, produce one line of output. This line contains an integer which denotes the value 
$$ 
\sum_{ i = 2 }^{ N }{ \mathrm{ MSLCM }(i) } 
$$

---
## Sample Input

```
10
100
0
```

---
## Sample Output

```
86
823080
```