---
layout     : post
title      : "Sass 學習雜記 - Part 5. 函式與運算"
subtitle   : "Web Programming Notes"
date       : 2017-12-23 12:00:00
author     : "Yung-Sheng Lu"
tags       : Sass WebProgramming
comments   : true
signature  : true
slides     : 
present    : 
github     :
link       :
---

![Sass](https://i.imgur.com/7vx71Hx.png)

## Part 5. 函式與運算

> 在 Sass 中，除了上一章所提到的三大基本觀念外，Sass 提供許多 **函式 (Functions)** 與 **運算 (Operations)** 讓原本 CSS 撰寫起來更佳便利。在運算部分，Sass 內建「計算能力」，能處理「加、減、乘、除」的語法，對於排版有很大的幫助。此外，

---
### 5.1 函式 (Functions)

Sass 中支援許多新的函式，增強原本 CSS 不足的部分。以下將以 *顏色函式 (Color functions)* 爲例作說明。

#### 5.1.1 顏色函式 (Color functions)

* RGB 顏色函式
    * **`rgb($red, $green, $blue)`**：由紅、綠、藍建立一個十六進制的顏色碼。
        ```scss
        $color1: rgb(200, 40, 88);
        /* $color1: #c82858 */
        ```
    * **`rgba($red, $green, $blue, $alpha)`**：由紅、綠、藍和透明度建立 RGBA 顏色。
        ```scss
        $color1: rgba(200, 40, 88, .65);
        /* $color1: rgba(200, 40, 88, .65) */
        ```
    * **`rgba($color, $alpha)`**：由十六進制的顏色碼與透明度建立一個 RGBA 顏色。
        ```scss
        $color1: rgba(#c82858, .65);
        /* $color1: rgb(200, 40, 88, .65) */
        ```
    * **`red($color)`**：由十六進制的顏色碼取出「紅色值」。
        ```scss
        $value: red(#c82858);
        /* $value: 200 */
        ```
    * **`green($color)`**：由十六進制的顏色碼取出「綠色值」。
        ```scss
        $value: green(#c82858);
        /* $value: 40 */
        ```
    * **`blue($color)`**：由十六進制的顏色碼取出「藍色值」。
        ```scss
        $value: blue(#c82858);
        /* $value: 88 */
        ```
    * **`mix($color1, $color2, $proportion)`**：將 `$color1` 和 `$color2` 按照 `$proportion` 混合新的顏色。
        ```scss
        $color: mix(#c82858, rgba(200, 40, 80, .65), .3)
        /* $color: rgba(200, 40, 80, 0.65105) */
        ```
* HSL 顏色函式
    * **`hsl($hue, $saturation, $lightness)`**：由色相 (hue)、飽和度 (saturation) 和亮度（lightness）的建立顏色。
        ```scss
        $color: hsl(200, 30%, 60%);
        /* $color: #7aa3b8 */
        ```
    * **`hsla($hue, $saturation, $lightness, $alpha)`**：由色相、飽和度、亮度和透明度建立 RGBA 顏色。
        ```scss
        $color: hsl(200, 30%, 60%, .8);
        /* $color: rgba(122, 163, 184, .8) */
        ```
    * **`hue($color)`**：由十六進制的顏色碼取出「色相值」。
        ```scss
        $value: hue(#7aa3b8);
        /* $value: 200 */
        ```
    * **`saturation($color)`**：由十六進制的顏色碼取出「飽和度」。
        ```scss
        $value: saturation(#7aa3b8);
        /* $value: 30% */
        ```
    * **`lightness($color)`**：由十六進制的顏色碼取出「亮度」。
        ```scss
        $value: saturation(#7aa3b8);
        /* $value: 60% */
        ```
    * **`adjust-hue($color, $amount)`**：改變顏色的「色相值」並建立新的顏色。
        ```scss
        $color: adjust-hue(#ff3366, 150deg);
        /* $color: #33ff66 */
        ```
    * **`lighten($color, $amount)`**：提高顏色的「亮度」並建立新的顏色。
        ```scss
        $color: lighten(#ff3366, 50%);
        /* $color: #ffffff */
        ```
    * **`darken($color, $amount)`**：降低顏色的「亮度」並建立新點顏色。
        ```scss
        $color: darken(#ff3366, 50%);
        /* $color: #33000d */
        ```
    * **`saturate($color, $amount)`**：提高顏色的「飽和度」並建立新點顏色。
        ```scss
        $color: saturate(#ff3366, 50%);
        /* $color: #ff3366 */
        ```
    * **`desaturate($color, $amount)`**：降低顏色的「飽和度」並建立新點顏色。
        ```scss
        $color: desaturate(#ff3366, 50%);
        /* $color: #cc667f */
        ```
    * **`grayscale($color)`**：建立 `$color` 的灰階色，相當於 `desaturate($color, 100%)`。
        ```scss
        $color: grayscale(#ff3366);
        /* $color: #999999 */
        ```
    * **`complement($color)`**：建立 `$color` 的補色，相當於 `adjust-hue($color, 180deg)`。
        ```scss
        $color: complement(#ff3366);
        /* $color: #33ffcc */
        ```
    * **`invert($color)`**：建立 `$color` 的反相色，即紅、綠、藍的值倒序，透明度不變。
        ```scss
        $color: invert(#ff3366);
        /* $color: 00cc99 */
        ```
* 顏色透明度的調整：CSS 中對於顏色的設定提供許多表示的方式，而其中 `rgba()` 與 `hsla()` 在顏色的呈現方面增加 **透明度 (Opacity)** 的表示。
    * **`opacity($color)`** 或 **`alpha($color)`**：取出顏色的透明度。
        ```scss
        $value: opacity(red);
        /* $value: 1 */
        $value: alpha(red);
        /* $value: 1 */
        $value: opacity(rgba(red, .8));
        /* $value: 0.8 */
        $value: alpha(rgba(red, .8));
        /* $value: 0.8 */
        ```
    * **`fade-out($color, $amount)`** 或 **`transparentize($color, $amount)`**：藉由數值 `0` 至 `1` 作爲 **減少透明度** 的表示方式。
        ```scss
        $color1: rgba(39, 39, 39, 0.5);
        $amount: 0.1;
        /* rgba(39, 39, 39, 0.4) */
        $color2: fade-out($color, $amount);
        ```
    * **`fade-in($color, $amount)`** 或 **`opacify($color, $amount)`**：藉由數值 `0` 至 `1` 作爲 **增加透明度** 的表示方式。
        ```scss
        $color1: rgba(39, 39, 39, 0.5);
        $amount: 0.1;
        /* rgba(39, 39, 39, 0.6) */
        $color2: fade-in($color, $amount);
        ```
* 其他顏色函式
    * **`adjust-color($color, [$red], [$green], [$blue], [$hue], [$saturation], [$lightness], [$alpha])`**：可以設置多個顏色參數，也可以同時不設置，並建立新的顏色。
        ```scss
        $color: adjust-color(hsl(25, 100%, 80%), $lightness: -30%, $alpha: -0.4);
        /* rgba(255, 106, 0, 0.6); */
        ```
    * **`scale-color($color, [$red], [$green], [$blue], [$saturation], [$lightness], [$alpha])`**：語法和 `adjust-color` 相同，可以同時設置多個顏色參數，並建立新的顏色。
        ```scss
        $color: scale-color(hsl(200, 70%, 80%), $saturation: -90%, $alpha: -30%);
        /* $color: rgba(200, 205, 208, 0.7) */
        ```
    * **`change-color($color, [$red], [$green], [$blue], [$hue], [$saturation], [$lightness], [$alpha])`**：改變顏色參數，並建立新的顏色。
        ```scss
        $color: change-color(hsl(25, 100%, 80%), $lightness: 40%, $alpha: 0.8);
        /* $color: rgba(204, 85, 0, 0.8) */
        ```

> **補充**
> * [線上 Sass 顏色工具](http://jim-nielsen.com/sassme)

#### 5.1.2 函式運算

* 除了上述 Sass 所提供的函式，Sass 也支援數學函式提供數值上的計算結果。
    * 以下以 *顏色運算* 作爲說例。
        ```scss
        $color: #010203 + #040506;
        ```
    * 上述程式中，顏色運算將個別對 *紅色*，*綠色* 與 *藍色* 進行計算，因此將 *每二個數值爲一組* 分別計算，如下所示：
        ```scss
        01 + 04 = 05
        02 + 05 = 07
        03 + 06 = 09
        ```
    * 最後顏色計算結果如下所示：
        ```scss
        $color: #050709;
        ```
* Sass 同時支援 `rgba()`，`hsla()` 與字串表示 (如：`red` 或 `blue`) 的顏色計算。

> **補充**
> * [Sass Funtions](http://sass-lang.com/documentation/Sass/Script/Functions.html)

---
### 5.2 數學運算

* Sass 中支援以下數學運算：
    * 加法運算 (Addition)
    * 減法運算 (Subtraction)
    * 乘法運算 (Multiplication)
    * 除法運算 (Division)
    * 餘數運算 (Modulo)
* 在數學運算中，只允許 **單位相同** 的數值進行運算。
    * 如：無法同時對 `px` 與 `em` 進行運算。
* 在乘法運算中，二個數值相乘的結果其單位爲 **原本單位的平方**。
    * 如：`10px * 10px = 100px * px`。
* 在除法運算中，其實是在進行 **平分** 的概念。
    * 被除數的部分可以是 **變數** 或 **函式回傳的數值**。
    * 被除數部分可以使用 **小括弧 (`( )`)** 括住。
    * 被除數部分可以是另一個運算式。
    ```scss
    /* 是除法運算 */
    width: $var / 6;
    /* 是除法運算 */
    line-height: (600px) / 6;
    /* 是除法運算 */
    margin-left: 20-10 px / 2;
    /* 非除法運算 */
    font-size: 10px / 8px;
    ```

---
## References

* [Module: Sass::Script::Functions](http://sass-lang.com/documentation/Sass/Script/Functions.html)
* [Sass基礎-顏色函數](https://www.w3cplus.com/preprocessor/sass-color-function.html)
* [30天掌握Sass語法 - (25)透過index()與nth()來設計網站版本樣式控制管理](https://ithelp.ithome.com.tw/articles/10135991)
* [SCSS 15分鐘入門](http://eddychang.me/blog/others/91-scss-15-mins.html)
* [Codecademy - Learn Sass](https://www.codecademy.com/learn/learn-sass)

> 如果你有任何建議與指教，歡迎於下方留言一起討論喔！